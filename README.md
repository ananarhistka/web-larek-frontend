# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код

## 1-Класс Api

Класс Api представляет собой общий интерфейс для выполнения HTTP-запросов к API. Он содержит методы для выполнения GET и POST запросов, а также вспомогательный метод для обработки ответа от сервера.

## 2-Component

Базовый класс редставляет собой абстрактный компонент, который может использоваться для создания других компонентов на веб-странице. Он содержит методы для управления различными аспектами DOM-элементов, такие как переключение классов, установка текстового содержимого, изменение статуса блокировки, скрытие и показ элементов, установка изображений

## 3-EventEmitter

EventEmitter класс, который представляет собой реализацию брокера событий с возможностью подписки на события, отписки от событий и генерации событий.

Класс представляет собой методы для установки обработчика на событие (on), инициирования события с данными (emit), слушания всех событий (onAll), сброса всех обработчиков (offAll) и создания триггера для генерации события при вызове (trigger).

## 4-Model

Базовый класс Model представляет собой абстрактную модель, которая используется для хранения данных и уведомления об изменениях. Конструктор класса принимает частичные данные типа T и объект событий IEvents.

Метод emitChanges используется для сообщения об изменениях в модели.

## Компоненты модели данных (бизнес-логика)

## 1-MainPage

Класс MainPage описывает состояние приложения и содержит методы для работы с каталогом товаров, корзиной покупок, заказом и предварительным просмотром товара.

Свойство directory содержит массив лотов, свойство orderProducr содержит информацию о заказе, а preview - предпросмотр лота.

## 2-CartProduct

Класс CartProduct описывает отдельный лот товара.

В классе CartProduct определены следующие свойства:

- id: идентификатор лота;
- name: название лота;
- price: цена лота;
- description: описание лота;
- image: изображение лота;

## 3-ProductItem

Класс ProductItem представляет собой модель заказа, содержит описание карточек.

В классе ProductItem определены следующие защищенные свойства:

- PaymentMethod: способ оплаты заказа;
- DeliveryAddress: адрес доставки заказа;
- email: адрес электронной почты заказчика;
- phone: номер телефона заказчика;

## Компоненты представления

## 1 Cart

Cart:
Представляет информацию о содержимом корзины.

- Свойства:
  - products: массив продуктов типа CartProduct.
  - totalPrice: общая стоимость продуктов в корзине.

## 2 DeliveryAddress

DeliveryAddress:
Предоставляет информацию об адресе доставки и методе оплаты.

- Свойства:
  - address: адрес доставки (строка или число).
  - payment: метод оплаты типа PaymentMethod.

## 3 MakingAnOrder

MakingAnOrder:
Предоставляет информацию для выполнения заказа.

- Свойства:
  - email: адрес электронной почты заказчика.
  - phone: номер телефона заказчика.

## 4 AddProduct

AddProduct:
Предоставляет методы для добавления и удаления продукта из корзины.

- Свойства:
  - addProductToCart: флаг, указывающий добавлен ли продукт в корзину.
  - addToCart(): метод для добавления продукта в корзину.
  - removeFromCart(): метод для удаления продукта из корзины.

## Ключевые типы данных
//карточки на главной странице
interface Product {
  products: CartProduct[];//описание карточек
  category: LotSection;//категории
}

//описание карточки 
interface CartProduct {
  id: number;//id карточки
  name: string;//имя карточки
  price: number;//цена карточки 
  description: string;//описание 
  image: string;//путь к изображению
}


//отслеживание добавился ли продукт
export interface AddProduct {
  addProductToCart: boolean;
  addToCart: () => void;//добавить
  removeFromeCars: () => void;//удалить
}

interface MainPage {
  cart: ProductItem[]; //выбранные продукты в корзине
  preview: ProductItem; //просмотр продукта
  directory: ProductItem[]; //все категории
  orderProducr: AddProduct;//отслеживание продуктов в корзине
}